# 下一步开发任务计划

## 📅 日期: 2025-12-15

## ✅ 今日完成
- [x] 物料管理模块后端开发(Entity/Mapper/Service/Controller)
- [x] 物料管理模块前端开发(3个页面 + API服务)
- [x] 数据库表创建及初始化数据
- [x] 菜单配置及权限分配
- [x] 修复Modal.confirm显示问题
- [x] 创建技术文档(Ant Design Modal使用规范)

## 🎯 明天任务

### 1. 物料管理模块测试与完善 (优先级: 高)
- [ ] 启动前端项目,测试3个页面的完整功能
- [ ] 测试物料分类的树形结构展示
- [ ] 测试计量单位的增删改查和分页
- [ ] 测试物料信息的关联查询(分类、单位)
- [ ] 测试删除功能的业务逻辑(子分类检查、物料使用检查)
- [ ] 修复发现的任何bug

### 2. 完善业务逻辑 (优先级: 高)
- [ ] 实现物料分类删除时的物料使用检查
- [ ] 实现计量单位删除时的物料使用检查
- [ ] 添加更多的数据验证规则
- [ ] 优化错误提示信息

### 3. UI/UX优化 (优先级: 中)
- [ ] 优化物料分类树的展示效果
- [ ] 添加加载状态提示
- [ ] 优化表单验证提示
- [ ] 添加操作成功/失败的友好提示

### 4. 供应商管理模块开发 (优先级: 中)
如果物料管理模块测试完成,可以开始供应商管理模块:

#### 数据库设计
- [ ] 设计供应商信息表(base_supplier)
  - 供应商编号、名称、联系人、电话、地址
  - 供应商类型、信用等级、结算方式
  - 银行账户信息
  - 状态、备注等

#### 后端开发
- [ ] 创建Supplier实体类
- [ ] 创建SupplierMapper
- [ ] 创建SupplierService及实现
- [ ] 创建SupplierController
- [ ] 实现供应商编号自动生成

#### 前端开发
- [ ] 创建供应商API服务
- [ ] 创建供应商管理页面
- [ ] 实现供应商的增删改查
- [ ] 实现供应商搜索和分页

### 5. 客户管理模块开发 (优先级: 低)
如果时间充足,可以开始客户管理模块(结构类似供应商)

## 📝 技术债务
- [ ] 优化编号生成逻辑(考虑使用Redis实现分布式序列号)
- [ ] 添加单元测试
- [ ] 完善API文档
- [ ] 添加操作日志记录

## 🐛 已知问题
- 无

## 💡 改进建议
1. 考虑添加物料图片上传功能
2. 考虑添加Excel导入导出功能
3. 考虑添加物料批量操作功能
4. 优化大数据量时的分页性能

## 📚 学习笔记
- Ant Design Modal.confirm需要使用App.useApp()获取modal实例
- Tree组件中的按钮需要stopPropagation阻止事件冒泡
- request拦截器已经解包了响应数据,不需要再访问res.code和res.data

## 🔗 相关文档
- [Ant Design Modal使用规范](.agent/skills/antd-modal-confirm.md)
- [API设计标准](.agent/skills/api-design-standards.md)
- [后端编码规范](.agent/skills/backend-coding-standards.md)
- [前端编码规范](.agent/skills/frontend-coding-standards.md)
